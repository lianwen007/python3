# API For Product

### app.getEnStwInfo - 英语刷题王3统计接口 API for count info of Englishking3
### app.getKpiInfo - 考核统计信息接口 API for count info of kpis
### app.getStwInfo - 刷题王3统计信息接口 API for count info of king3 
### app.getQstCount - 学生题目统计 v0.0.1
</br>

#### Update Info app.getStwInfo:

##### **2018-08-15**
> * 增加本地获取总积分方法，替换原算法
> * 数据处理方式更改，现引入pandas库进行处理，效率更高
> * 增加error捕获，异常内部消化

##### **2018-07-16**
> * 修复偶发性数据为空时无法返回的问题
> * 日期区间判定变更，提高MYSQL检索效率

##### **2018-07-03**
> * 数据表变更
> * 表中加入局得分，取消局得分实时获取

##### **2018-06-22**
> * 增加需求，提供科目接口
> * 根据科目获取书本信息
> * 书本可多选，增加判定逻辑

##### **2018-05-08**
> * StwInfo整体重构，算法优化提高效率
> * 实时接口与BookId获取均加入缓存,避免重复调用
> * BOOKNAME获取方式修复，单独调用数据库获取书名
> * 两个实时接口外部无法调用问题已解决

##### **2018-04-20**
> * 增加实时获取学生局得分，缓存1小时
> * 主函数增加对比学生实时局得分判定，若无则为0
> * 修复BOOKNAME获取失败的小概率BUG，修改其拉取方式
> * 已知问题：两个实时接口外部无法调用

##### **2018-04-16**
> * 修复没有取到实时数据班级返回500错误问题，现在可以正确返回
> * IF判定改为STR类型，防止BUG出现
> * 返回正确的错误msg

##### **2018-04-09**
> * 实时数据接口变更，增加mongo数据拉取，不再调用外部接口
> * 接口访问加入密码验证


##### **2018-04-02**
> * 加入缓存清除，接口调取可清除历史缓存
> * 内部调取学科信息接口
> * 增加判定，只返回学科下所有教师

##### **2018-03-28**
> * 增加SubTpye判定，不同规则执行不同算法
> * 空数据BUG修复，正确返回

##### **2018-03-26**
> * 输出增加所有学生信息，无数据输出为0
> * 增加错误入参判定与报错
> * 班级所有学生信息提取加入缓存机制，过期时间12小时

##### **2018-03-22**
> * 学生信息接口更新，入参修改 `SubID` 为 `SubjectName`
> * 新增获取学生基础信息统计接口。METHOD方法判定
> * 实时数据接口重构，加入缓存机制过期时间50分钟

##### **2018-03-15**
> * 增加全量数据，接口调取时的内部计算，优化处理速度
> * 日志结构变更，规范标题大小写

##### **2018-03-07**
> * 增加HP等字段的实时调用接口 

</br></br>
#### Update Info app.getEnStwInfo:
##### **2018-06-29**
> * 数据重构，切换数据表
> * 新增‘填空’字段
> * 字段规范整理

##### **2018-05-17**
> * 修复题型分类后，导致各个题型平均分低于预期的问题

##### **2018-05-15**
> * SQL算法变更，平均值算法改变
> * 修复有小几率出现正确率大于1的问题

##### **2018-04-02**
> * 新增英刷数据接口
> * 学生信息获取全部，无数据填充0
